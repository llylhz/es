MWF.xApplication.Selector=MWF.xApplication.Selector||{};MWF.xDesktop.requireApp("Selector","Identity",null,false);MWF.xApplication.Selector.CMSCategory=new Class({Extends:MWF.xApplication.Selector.Identity,options:{style:"default",count:0,title:MWF.xApplication.Selector.LP.selectCMSCategory,values:[],names:[],expand:false},loadSelectItems:function(t){this.cmsAction.listCMSApplication(function(t){if(t.data.length){t.data.each(function(t){t.name=t.appName;var e=this._newItemCategory(t,this,this.itemAreaNode)}.bind(this))}}.bind(this))},_scrollEvent:function(t){return true},_getChildrenItemIds:function(){return null},_newItemCategory:function(t,e,n,i){return new MWF.xApplication.Selector.CMSCategory.ItemCategory(t,e,n,i)},_listItemByKey:function(t,e,n){return false},_getItem:function(t,e,n,i){},_newItemSelected:function(t,e,n){return new MWF.xApplication.Selector.CMSCategory.ItemSelected(t,e,n)},_listItemByPinyin:function(t,e,n){return false},_newItem:function(t,e,n,i){return new MWF.xApplication.Selector.CMSCategory.Item(t,e,n,i)}});MWF.xApplication.Selector.CMSCategory.Item=new Class({Extends:MWF.xApplication.Selector.Identity.Item,_getShowName:function(){return this.data.name},_setIcon:function(){this.iconNode.setStyle("background-image","url("+"/x_component_Selector/$Selector/default/icon/processicon.png)")},loadSubItem:function(){return false},getData:function(t){if(t)t()},checkSelectedSingle:function(){var t=this.selector.options.values.filter(function(t,e){if(typeOf(t)==="object")return this.data.id===t.id||this.data.name===t.name;if(typeOf(t)==="string")return this.data.id===t||this.data.name===t;return false}.bind(this));if(t.length){this.selectedSingle()}},checkSelected:function(){var t=this.selector.selectedItems.filter(function(t,e){return t.data.id===this.data.id||t.data.name===this.data.name}.bind(this));if(t.length){t[0].addItem(this);this.selectedItem=t[0];this.setSelected()}}});MWF.xApplication.Selector.CMSCategory.ItemSelected=new Class({Extends:MWF.xApplication.Selector.Identity.ItemSelected,getData:function(t){if(t)t()},_getShowName:function(){return this.data.name},_setIcon:function(){this.iconNode.setStyle("background-image","url("+"/x_component_Selector/$Selector/default/icon/processicon.png)")}});MWF.xApplication.Selector.CMSCategory.ItemCategory=new Class({Extends:MWF.xApplication.Selector.Identity.ItemCategory,_setIcon:function(){this.iconNode.setStyle("background-image","url("+"/x_component_Selector/$Selector/default/icon/applicationicon.png)")},loadSub:function(t){if(!this.loaded){this.selector.cmsAction.listCMSCategory(function(e){e.data.each(function(t){t.name=t.categoryName;t.applicationName=this.data.name;t.application=this.data.id;var e=this.selector._newItem(t,this.selector,this.children,this.level+1)}.bind(this));this.loaded=true;if(t)t()}.bind(this),null,this.data.id)}else{if(t)t()}},_hasChild:function(){return this.data.wrapOutCategoryList&&this.data.wrapOutCategoryList.length},check:function(){}});