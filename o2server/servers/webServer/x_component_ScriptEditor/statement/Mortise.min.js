MWF.xApplication.ScriptEditor.statement.Mortise=new Class({initialize:function(t,e,i,n){this.statement=t;this.types=i;this.node=e;this.area=this.statement.area;this.block=this.statement.block;this.editor=this.statement.editor;this.tenonStatement=null;this.input=n;this.load()},shine:function(){if(!this.shineNode){this.shineNode=new Element("div",{styles:this.statement.css.mortiseShineNode}).inject(this.statement.areaNode);var t=this.input.getSize();var e=t.x-3;var i=t.y-3;this.shineNode.setStyles({width:""+e+"px",height:""+i+"px","border-radius":""+i/2+"px","z-index":MWF.SES.zIndexPool.zIndex-2});this.shineNode.position({relativeTo:this.input,position:"upperLeft",edge:"upperLeft",offset:{x:0,y:0}})}},unshine:function(){if(this.shineNode)this.shineNode.destroy();this.shineNode=null},tenon:function(){if(this.tenonStatement){if(this.input){this.inputDisplay=this.input.getStyle("display");this.input.setStyle("display","none")}this.tenonStatement.node.inject(this.node);this.tenonStatement.node.setStyles({position:"static",top:"auto",left:"auto"})}},split:function(){if(this.tenonStatement){if(this.input){this.input.setStyle("display",this.inputDisplay)}var t=this.node.getPosition(this.tenonStatement.areaNode);this.tenonStatement.node.inject(this.tenonStatement.areaNode);this.tenonStatement.node.setStyles({"z-index":MWF.SES.zIndexPool.apply(),position:"absolute",left:""+t.x+"px",top:""+t.y+"px"});this.tenonStatement=null}},load:function(){}});