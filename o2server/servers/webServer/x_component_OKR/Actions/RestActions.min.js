MWF.xApplication.OKR=MWF.xApplication.OKR||{};MWF.xApplication.OKR.Actions=MWF.xApplication.OKR.Actions||{};MWF.require("MWF.xDesktop.Actions.RestActions",null,false);MWF.require("MWF.widget.UUID",null,false);MWF.xApplication.OKR.Actions.RestActions=new Class({initialize:function(){this.action=new MWF.xDesktop.Actions.RestActions("/Actions/action.json","x_okr_assemble_control","x_component_OKR");this.actionOrg=new MWF.xDesktop.Actions.RestActions("/Actions/action.json","x_organization_assemble_express","x_component_OKR")},getId:function(e,t,n,a){this.action.invoke({name:"getId",async:a,parameter:{count:e},success:t,failure:n})},getUUID:function(e){var t="";this.action.invoke({name:"getId",async:false,parameter:{count:"1"},success:function(n){t=n.data[0];if(e)e(t)},failure:null});return t},listCompanyByPerson:function(e,t,n,a){this.actionOrg.invoke({name:"listCompanyByPerson",async:a,parameter:{name:n},success:e,failure:t})},listDepartmentByPerson:function(e,t,n,a){this.actionOrg.invoke({name:"listDepartmentByPerson",async:a,parameter:{name:n},success:e,failure:t})},listDepartmentByCompany:function(e,t,n,a){this.actionOrg.invoke({name:"listDepartmentByCompany",async:a,parameter:{companyName:n},success:e,failure:t})},getPerson:function(e,t,n,a){this.actionOrg.invoke({name:"getPerson",async:a,parameter:{name:n},success:e,failure:t})},getDepartmentDuty:function(e,t,n,a,i){this.actionOrg.invoke({name:"getDepartmentDuty",async:i,parameter:{name:n,departmentName:a},success:e,failure:t})},getPersonByIdentity:function(e,t,n,a){this.actionOrg.invoke({name:"getPersonByIdentity",async:a,parameter:{name:n},success:e,failure:t})},getHoliday:function(e,t,n){this.action.invoke({name:"getHoliday",parameter:{id:e},success:t,failure:n})},listHolidayAll:function(e,t,n){this.action.invoke({name:"listHolidayAll",async:n,success:e,failure:t})},listHolidayFilter:function(e,t,n,a){this.action.invoke({name:"listHolidayFilter",data:e,async:a,success:t,failure:n})},saveHoliday:function(e,t,n,a){this.action.invoke({name:"saveHoliday",data:e,async:a,parameter:{id:e.id},success:t,failure:n})},deleteHoliday:function(e,t,n,a){this.action.invoke({name:"deleteHoliday",async:a,parameter:{id:e},success:t,failure:n})},listAttachmentInfo:function(e,t,n){this.action.invoke({name:"listAttachmentInfo",async:n,success:e,failure:t})},uploadAttachment:function(e,t,n,a){this.action.invoke({name:"uploadAttachment",data:n,file:a,success:e,failure:t})},deleteAttachment:function(e,t,n,a){this.action.invoke({name:"deleteAttachment",async:a,parameter:{id:e},success:t,failure:n})},getAttachmentStream:function(e){this.action.getActions(function(){var t=this.action.actions.getAttachmentStream.uri;t=t.replace("{id}",encodeURIComponent(e));window.open(this.action.address+t)}.bind(this))},listDetailFilterNext:function(e,t,n,a,i,s){this.action.invoke({name:"listDetailFilterNext",parameter:{id:e,count:t},data:n,async:s,success:a,failure:i})},listDetailFilterPrev:function(e,t,n,a,i,s){this.action.invoke({name:"listDetailFilterPrev",parameter:{id:e,count:t},data:n,async:s,success:a,failure:i})},getCenterWorkListNext:function(e,t,n,a,i,s){this.action.invoke({name:"getCenterWorkListNext",parameter:{id:e,count:t},data:n,async:s,success:a,failure:i})},saveMainTask:function(e,t,n,a){this.action.invoke({name:"saveMainTask",data:e,async:a,success:t,failure:n})},getMainTask:function(e,t,n,a){this.action.invoke({name:"getMainTask",parameter:{id:e},success:t,failure:n,async:a})},deleteCenterWork:function(e,t,n,a){this.action.invoke({name:"deleteCenterWork",async:a,parameter:{id:e},success:t,failure:n})},saveTask:function(e,t,n,a){this.action.invoke({name:"saveTask",data:e,async:a,success:t,failure:n})},getTask:function(e,t,n){this.action.invoke({name:"getTask",parameter:{id:e},success:t,failure:n})},getUserBaseWork:function(e,t,n,a){this.action.invoke({name:"getUserBaseWork",parameter:{id:e},success:t,failure:n,async:a})},deleteBaseWork:function(e,t,n,a){this.action.invoke({name:"deleteBaseWork",async:a,parameter:{id:e},success:t,failure:n})},deployBaseWork:function(e,t,n,a){this.action.invoke({name:"deployBaseWork",data:e,async:a,success:t,failure:n})},getBaseWorkDetails:function(e,t,n,a){this.action.invoke({name:"getBaseWorkDetails",parameter:{id:e},success:t,failure:n,async:a})},getWorksById:function(e,t,n,a){this.action.invoke({name:"getWorksById",parameter:{id:e},success:t,failure:n,async:a})}});