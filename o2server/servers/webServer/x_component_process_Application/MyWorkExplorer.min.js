MWF.xDesktop.requireApp("Organization","Selector.package",null,false);MWF.xDesktop.requireApp("process.Application","WorkExplorer",null,false);MWF.xApplication.process.Application.MyWorkExplorer=new Class({Extends:MWF.xApplication.process.Application.WorkExplorer,Implements:[Options,Events],createSearchElementNode:function(){this.toCompletedNode=new Element("div",{styles:this.css.toCompletedNode,text:this.app.lp.toCompleted}).inject(this.toolbarNode);this.toCompletedNode.addEvents({mouseover:function(){this.toCompletedNode.setStyles(this.css.toCompletedNode_over)}.bind(this),mouseout:function(){this.toCompletedNode.setStyles(this.css.toCompletedNode)}.bind(this),click:function(){this.app.myWorkCompletedConfig()}.bind(this)})},_getFilterCount:function(t){this.actions.listFilterAttribute(this.app.options.id,function(i){if(t)t(i)})},loadProcess:function(){this.actions.listProcess(this.app.options.id,function(t){t.data.each(function(t){this.loadProcessNode(t)}.bind(this))}.bind(this))},_getCurrentPageData:function(t,i){var e=this.items.length?this.items[this.items.length-1].data.id:"(0)";if(this.filter){var o={};Object.each(this.filter,function(t,i){if(i!="key"){if(!o[i])o[i]=[];t.each(function(t){o[i].push(t.value)})}else{o[i]=t}});this.actions.listWorkFilter(e,i||this.pageCount,this.app.options.id,o,function(i){if(t)t(i)})}else{this.actions.listWorkNext(e,i||this.pageCount,this.app.options.id,function(i){if(t)t(i)})}},_createItem:function(t){return new MWF.xApplication.process.Application.WorkExplorer.Work(t,this)},removeWork:function(t,i){this.actions.removeWork(t.data.id,this.app.options.id,i,function(t){t.data.each(function(t){this.items.erase(this.works[t.id]);this.works[t.id].destroy();MWF.release(this.works[t.id]);delete this.works[t.id]}.bind(this))}.bind(this))}});