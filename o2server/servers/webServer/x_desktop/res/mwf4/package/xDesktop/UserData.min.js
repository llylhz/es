MWF.xDesktop=MWF.xDesktop||{};MWF.xApplication=MWF.xApplication||{};MWF.require("MWF.xDesktop.Actions.RestActions",null,false);MWF.xDesktop.UserData=MWF.UD={getAction:function(){this.action=new MWF.xDesktop.Actions.RestActions("/xDesktop/Actions/action.json","x_organization_assemble_custom")},getData:function(t,i,e){if(!this.action)this.getAction();this.action.invoke({name:"getUserData",async:e,parameter:{name:t},success:function(t){if(i)i(t)}.bind(this)})},getDataJson:function(t,i,e){if(!this.action)this.getAction();this.action.invoke({name:"getUserData",async:e,parameter:{name:t},success:function(t){var e=null;if(t.data)e=JSON.decode(t.data);if(i)i(e)}.bind(this)})},putData:function(t,i,e,n){if(!this.action)this.getAction();this.action.invoke({name:"putUserData",async:n,data:i,parameter:{name:t},success:function(t){if(e)e(t)}.bind(this)})},deleteData:function(t,i,e){if(!this.action)this.getAction();this.action.invoke({name:"deleteUserData",async:e,parameter:{name:t},success:function(t){if(i)i(t)}.bind(this)})},getPublicData:function(t,i,e){if(!this.action)this.getAction();this.action.invoke({name:"getPublicUserData",async:e,parameter:{name:t},success:function(t){var e=null;if(t.data)e=JSON.decode(t.data);if(i)i(e)}.bind(this)})},putPublicData:function(t,i,e,n){if(!this.action)this.getAction();this.action.invoke({name:"putPublicUserData",async:n,data:i,parameter:{name:t},success:function(t){if(e){if(e.success){e.success(t)}else{e(t)}}}.bind(this),failure:function(t,i,n){if(t.status!=0){var a=n;if(t){var s=JSON.decode(t.responseText);if(s){a=s.message.trim()||"request json error"}else{a="request json error: "+t.responseText}}MWF.xDesktop.notice("error",{x:"right",y:"top"},a)}if(e)if(e.failure)e.failure(t,i,n)}})},deletePublicData:function(t,i,e){if(!this.action)this.getAction();this.action.invoke({name:"deletePublicUserData",async:e,parameter:{name:t},success:function(t){if(i)i(t)}.bind(this)})}};