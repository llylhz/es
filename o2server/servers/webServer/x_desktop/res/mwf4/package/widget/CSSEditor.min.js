MWF.widget=MWF.widget||{};MWF.require("MWF.widget.JavascriptEditor",null,false);MWF.widget.CSSEditor=new Class({Extends:MWF.widget.JavascriptEditor,Implements:[Options,Events],options:{type:"ace",title:"CSSEditor",style:"default",option:{value:"",mode:"javascript",lineNumbers:true}},loadAce:function(e){this.editorClass.load(function(){ace.require("ace/ext/language_tools");this.editor=ace.edit(this.node);this.editor.session.setMode("ace/mode/css");this.editor.setTheme("ace/theme/"+this.theme);this.editor.setOptions({enableBasicAutocompletion:true,enableSnippets:true,enableLiveAutocompletion:false});if(this.options.option.value)this.editor.setValue(this.options.option.value);this.editor.commands.addCommand({name:"save",bindKey:{win:"Ctrl-S",mac:"Command-S"},exec:function(e){this.fireEvent("save")}.bind(this),readOnly:false});this.editor.commands.addCommand({name:"help",bindKey:{win:"Ctrl-Q|Ctrl-Alt-Space|Ctrl-Space|Alt-/",mac:"Command-Q"},exec:function(e,t,i){this.fireEvent("reference",[e,t,i])}.bind(this),readOnly:false});this.node.addEvent("keydown",function(e){e.stopPropagation()});this.fireEvent("postLoad");if(e)e()}.bind(this))}});