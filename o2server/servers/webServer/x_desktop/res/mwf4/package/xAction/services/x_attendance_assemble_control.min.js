MWF.xAction.RestActions.Action["x_attendance_assemble_control"]=new Class({Extends:MWF.xAction.RestActions.Action,getUUID:function(t){var n="";this.action.invoke({name:"getId",async:false,parameter:{count:"1"},success:function(e){n=e.data[0];if(t)t(n)},failure:null});return n},exportSelfHoliday:function(t,n,e,i){this.action.getActions(function(){var e=this.action.actions.exportSelfHoliday.uri;e=e.replace("{startdate}",t);e=e.replace("{enddate}",n);window.open(this.action.address+e,"_blank")}.bind(this))},uploadAttachment:function(t,n,e,i){this.action.invoke({name:"uploadAttachment",data:e,file:i,success:t,failure:n})},getAttachmentStream:function(t){this.action.getActions(function(){var n=this.action.actions.getAttachmentStream.uri;n=n.replace("{id}",encodeURIComponent(t));window.open(this.action.address+n)}.bind(this))},exportAbnormalAttachment:function(t,n,e,i){this.action.getActions(function(){var e=this.action.actions.exportAbnormalAttachment.uri;e=e.replace("{year}",t);e=e.replace("{month}",n);window.open(this.action.address+e,"_blank")}.bind(this))}});