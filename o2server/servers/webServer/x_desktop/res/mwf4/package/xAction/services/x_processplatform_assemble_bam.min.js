MWF.xAction.RestActions.Action["x_processplatform_assemble_bam"]=new Class({Extends:MWF.xAction.RestActions.Action,getRankData:function(t){var e=t.map(function(t,e){return{name:t.name,value:t.count?Math.round(t.duration/t.count/60*100)/100:0}});e.sort(function(t,e){return e.value-t.value});var n=t.map(function(t,e){return{name:t.name,value:t.expiredCount}});n.sort(function(t,e){return e.value-t.value});var u=t.map(function(t,e){return{name:t.name,value:t.completedCount}});u.sort(function(t,e){return e.value-t.value});var a=t.map(function(t,e){return{name:t.name,value:t.completedCount?Math.round((t.completedCount-t.completedExpiredCount)/t.completedCount*100)/100:0}});a.sort(function(t,e){return e.value-t.value});var r=t.map(function(t,e){return{name:name?name(t):t.name,value:t.count+t.completedCount?Math.round((t.expiredCount+t.completedExpiredCount)/(t.count+t.completedCount)*100)/100:0}});r.sort(function(t,e){return e.value-t.value});return{taskDuration:e.filter(function(t){return t.value}),taskElapsedCount:n.filter(function(t){return t.value}),taskCompletedCount:u.filter(function(t){return t.value}),taskCompletedTimeliness:a.filter(function(t){return t.value}),taskTimeoutRate:r.filter(function(t){return t.value})}},getTaskContentData:function(t,e){var n=t.map(function(t,n){return{name:e?e(t):t.name,value:t.taskCount}});n.sort(function(t,e){return e.value-t.value});var u=t.map(function(t,n){return{name:e?e(t):t.name,value:t.taskCount?Math.round(t.taskDuration/t.taskCount/60*100)/100:0}});u.sort(function(t,e){return e.value-t.value});var a=t.map(function(t,n){return{name:e?e(t):t.name,value:t.taskExpiredCount}});a.sort(function(t,e){return e.value-t.value});var r=t.map(function(t,n){return{name:e?e(t):t.name,value:t.taskCount?t.taskExpiredCount/t.taskCount:0}});r.sort(function(t,e){return e.value-t.value});return{taskCount:n.filter(function(t){return t.value}),taskDuration:u.filter(function(t){return t.value}),taskElapsedCount:a.filter(function(t){return t.value}),taskTimeoutRate:r.filter(function(t){return t.value})}},getTaskCompletedContentData:function(t,e){var n=t.map(function(t,n){return{name:e?e(t):t.name,value:t.taskCompletedCount}});n.sort(function(t,e){return e.value-t.value});var u=t.map(function(t,n){return{name:e?e(t):t.name,value:t.taskCompletedCount?Math.round(t.taskCompletedDuration/t.taskCompletedCount/60*100)/100:0}});u.sort(function(t,e){return e.value-t.value});var a=t.map(function(t,n){return{name:e?e(t):t.name,value:t.taskCompletedExpiredCount}});a.sort(function(t,e){return e.value-t.value});var r=t.map(function(t,n){return{name:e?e(t):t.name,value:t.taskCompletedCount?t.taskCompletedExpiredCount/t.taskCompletedCount:0}});r.sort(function(t,e){return e.value-t.value});var o=t.map(function(t,n){return{name:e?e(t):t.name,value:t.taskCompletedCount?(t.taskCompletedCount-t.taskCompletedExpiredCount)/t.taskCompletedCount:0}});o.sort(function(t,e){return e.value-t.value});return{taskCompletedCount:n.filter(function(t){return t.value}),taskCompletedDuration:u.filter(function(t){return t.value}),taskCompletedElapsedCount:a.filter(function(t){return t.value}),taskTimeoutRate:r.filter(function(t){return t.value}),taskTimelinessRate:o.filter(function(t){return t.value})}},getWorkContentData:function(t,e){var n=t.map(function(t,n){return{name:e?e(t):t.name,value:t.workCount}});n.sort(function(t,e){return e.value-t.value});var u=t.map(function(t,n){return{name:e?e(t):t.name,value:t.workCount?Math.round(t.workDuration/t.workCount/60*100)/100:0}});u.sort(function(t,e){return e.value-t.value});var a=t.map(function(t,n){return{name:e?e(t):t.name,value:t.workExpiredCount}});a.sort(function(t,e){return e.value-t.value});var r=t.map(function(t,n){return{name:e?e(t):t.name,value:t.workCount?t.workExpiredCount/t.workCount:0}});r.sort(function(t,e){return e.value-t.value});return{workCount:n.filter(function(t){return t.value}),workDuration:u.filter(function(t){return t.value}),workElapsedCount:a.filter(function(t){return t.value}),workTimeoutRate:r.filter(function(t){return t.value})}},getWorkCompletedContentData:function(t,e){var n=t.map(function(t,n){return{name:e?e(t):t.name,value:t.workCompletedCount}});n.sort(function(t,e){return e.value-t.value});var u=t.map(function(t,n){return{name:e?e(t):t.name,value:t.taskCompletedCount?Math.round(t.workCompletedDuration/t.workCompletedCount/60*100)/100:0}});u.sort(function(t,e){return e.value-t.value});var a=t.map(function(t,n){return{name:e?e(t):t.name,value:t.workCompletedExpiredCount}});a.sort(function(t,e){return e.value-t.value});var r=t.map(function(t,n){return{name:e?e(t):t.name,value:t.workCompletedCount?t.workCompletedExpiredCount/t.workCompletedCount:0}});r.sort(function(t,e){return e.value-t.value});var o=t.map(function(t,n){return{name:e?e(t):t.name,value:t.workCompletedCount?(t.workCompletedCount-t.workCompletedExpiredCount)/t.workCompletedCount:0}});o.sort(function(t,e){return e.value-t.value});return{workCompletedCount:n.filter(function(t){return t.value}),workCompletedDuration:u.filter(function(t){return t.value}),workCompletedElapsedCount:a.filter(function(t){return t.value}),workTimeoutRate:r.filter(function(t){return t.value}),workTimelinessRate:o.filter(function(t){return t.value})}},loadMonthly:function(t,e,n,u,a,r){var o="loadMonthly"+t.capitalize()+"By"+e.type.capitalize();var l;if(e.type==="activity"||e.type==="application"||e.type==="process"){l={unit:n.unit?MWF.name.ou(n.unit):"(0)",personName:n.person||"(0)",applicationId:e.range.application,processId:e.range.process,activityId:e.range.activity}}else{l={unit:e.range.unitName,personName:e.range.personName,applicationId:n.application||"(0)",processId:n.process||"(0)",activityId:n.activity||"(0)"}}this.action.invoke({name:o,async:r,parameter:l,success:u,failure:a})}});